<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Production Data Entry</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        form, table { margin-bottom: 20px; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        input[type="text"], input[type="date"], input[type="number"] { padding: 8px; margin: 5px 0; display: block; width: 100%; box-sizing: border-box; }
        button { padding: 10px 15px; margin-right: 10px; cursor: pointer; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #5ca4b1; }
        .summary { margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>
    <h2>üìù ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï</h2>

    <form method="POST" id="data-form">
        <label for="date">Date:</label>
        <input type="date" id="date" name="date" required>
        
        <label for="line">Line:</label>
        <input type="text" id="line" name="line" required>
        
        <label for="model">Model:</label>
        <input type="text" id="model" name="model" required>
        
        <label for="qty">QTY:</label>
        <input type="number" id="qty" name="qty" required min="1">
        <button type="submit" name="submit">‚úÖ Input</button>
        <button type="reset" style="background-color: #f44336; color: white;">üóëÔ∏è Clear Form</button>
    </form>
    
    
    <h2>üìä Table Report</h2>
    <div class="summary">
        ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏£‡∏∏‡∏õ: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î = {{ records|length }}, ‡∏£‡∏ß‡∏° QTY ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î = {{ total_qty_backend|int }}
    </div>
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Line</th>
                <th>Model</th>
                <th>QTY</th>
                <th>Action</th> </tr>
        </thead>
        <tbody>
            {% for record in records %}
            <tr>
                <td>{{ record.date }}</td>
                <td>{{ record.line }}</td>
                <td>{{ record.model }}</td>
                <td>{{ record.qty }}</td>
                <td>
                    <form method="POST" style="display:inline;">
                        <input type="hidden" name="delete_index" value="{{ loop.index0 }}">
                        <button type="submit" style="padding: 5px 10px; background-color: #ff9800; color: white;">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <script>
        //‡∏ô‡∏≥ JavaScript ‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏é‡∏¥‡∏ó‡∏¥‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏£‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
        document.addEventListener('DOMContentLoaded', (event) => {
        const dateInput = document.getElementById('date');

        // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å (focus) ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏≠‡∏á Date
        dateInput.addEventListener('focus', () => {
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô showPicker() ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
        if ('showPicker' in dateInput) {
        // ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
        dateInput.showPicker();
        } else {
        // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö showPicker
        dateInput.click(); // ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô
        }
        });
        });
    </script>    